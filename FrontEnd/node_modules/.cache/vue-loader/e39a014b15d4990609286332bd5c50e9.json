{"remainingRequest":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kanto/Desktop/MiniProj2/FrontEnd/src/views/experts/ListExperts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/src/views/experts/ListExperts.vue","mtime":1701888605632},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1701363611251},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1701363612909},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1701363611251},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1701363612828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEZFVENIX0VYUEVSVFMsIFJFTU9WRV9FWFBFUlQgfSBmcm9tICJAL3N0b3JlL2V4cGVydHMvZXhwZXJ0LmNvbnN0YW50cyI7CmltcG9ydCBIZWFkZXJQYWdlIGZyb20gIkAvY29tcG9uZW50cy9IZWFkZXJQYWdlLnZ1ZSI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFuYWdlRXhwZXJ0cyIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyUGFnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBleHBlcnRzOiBbXSwKICAgICAgc29ydFR5cGU6IDEKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycygiZXhwZXJ0IiwgWyJnZXRFeHBlcnRzIiwgImdldE1lc3NhZ2UiXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRXhwZXJ0cygpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYGV4cGVydC8ke0ZFVENIX0VYUEVSVFN9YCkudGhlbigKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLmV4cGVydHMgPSB0aGlzLmdldEV4cGVydHM7CiAgICAgICAgfSwKICAgICAgICBlcnIgPT4gewogICAgICAgICAgdGhpcy4kYWxlcnQoYCR7ZXJyLm1lc3NhZ2V9YCwgIkVycm8iLCAiZXJyb3IiKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgc29ydCgpIHsKICAgICAgdGhpcy5leHBlcnRzLnNvcnQodGhpcy5jb21wYXJlTmFtZXMpOwogICAgICB0aGlzLnNvcnRUeXBlICo9IC0xOwogICAgfSwKICAgIGNvbXBhcmVOYW1lcyhzMSwgczIpIHsKICAgICAgaWYgKHMxLm5hbWUgPiBzMi5uYW1lKSByZXR1cm4gMSAqIHRoaXMuc29ydFR5cGU7CiAgICAgIGVsc2UgaWYgKHMxLm5hbWUgPCBzMi5uYW1lKSByZXR1cm4gLTEgKiB0aGlzLnNvcnRUeXBlOwogICAgICBlbHNlIHJldHVybiAwOwogICAgfSwKCiAgICB2aWV3RXhwZXJ0KGlkKSB7CiAgICAgIGNvbnN0IGV4cGVydCA9IHRoaXMuZXhwZXJ0cy5maW5kKGV4cGVydCA9PiBleHBlcnQuX2lkID09PSBpZCk7CiAgICAgIHRoaXMuJGZpcmUoewogICAgICAgIHRpdGxlOiBleHBlcnQubmFtZSwKICAgICAgICBodG1sOiB0aGlzLmdlbmVyYXRlVGVtcGxhdGUoZXhwZXJ0KQogICAgICB9KTsKICAgIH0sCgogICAgZ2VuZXJhdGVUZW1wbGF0ZShleHBlcnQpIHsKICAgICAgcmV0dXJuIGAKICAgICAgICA8cD4KICAgICAgICAgIDxpbWcgc3R5bGU9IiIgY2xhc3M9InctNTAiICBzcmM9IiR7ZXhwZXJ0LmltZ30iIGFsdD0iIiBzcmNzZXQ9IiI+IDxicj4KICAgICAgICAgIDxiPk5vbWU6PC9iPiAke2V4cGVydC5uYW1lfSA8YnI+CiAgICAgICAgICA8Yj5BbmltYWw6PC9iPiAke2V4cGVydC5hbmltYWx9IDxicj4KICAgICAgICAgIDxiPkdydXBvOjwvYj4gJHtleHBlcnQuZ3JvdXB9IDxicj4KICAgICAgICAgIDxiPkRlc2NyacOnw6NvOjwvYj4gJHtleHBlcnQuZGVzY3JpcHRpb259PGJyPgogICAgICAgICAgPGI+QW5vcyBkZSBFc3BlY2lhbGlzdGE6PC9iPiAke2V4cGVydC55ZWFyc19leHBlcnRlZH0gPGJyPgogICAgICAgICAgPGI+TG9jYWxpemHDp8Ojbzo8L2I+ICR7ZXhwZXJ0LmxvY2F0aW9uLmNpdHl9IC8gJHtleHBlcnQubG9jYXRpb24uY291bnRyeX0gPGJyPgogICAgICAgICAgPGI+VmFsb3IgcG9yIGhvcmE6PC9iPiAke2V4cGVydC52YWx1ZX0g4oKsIDxicj4KICAgICAgICAgIDxiPkxvY2FsaXphw6fDo286PC9iPiAke2V4cGVydC5jb250YWN0fQogICAgICAgIDwvcD4KICAgICAgYDsKICAgIH0sCgogICAgcmVtb3ZlRXhwZXJ0KGlkKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oCiAgICAgICAgIlNlIHNpbSwgY2xpcXVlIGVtIE9LIiwKICAgICAgICAiRGVzZWphIG1lc21vIHJlbW92ZXIgbyBFc3BlY2lhbGlzdGE/IiwKICAgICAgICAid2FybmluZyIsCiAgICAgICAgeyBjb25maXJtQnV0dG9uVGV4dDogIk9LIiwgY2FuY2VsQnV0dG9uVGV4dDogIkNhbmNlbGFyIiB9CiAgICAgICkudGhlbigKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChgZXhwZXJ0LyR7UkVNT1ZFX0VYUEVSVH1gLCBpZCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KHRoaXMuZ2V0TWVzc2FnZSwgIkVzcGVjaWFsaXN0YSByZW1vdmlkbyEiLCAic3VjY2VzcyIpOwogICAgICAgICAgICB0aGlzLmZldGNoRXhwZXJ0cygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLiRhbGVydCgiUmVtb8Onw6NvIGNhbmNlbGFkYSEiLCAiSW5mb3JtYcOnw6NvIiwgImluZm8iKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEV4cGVydHMoKTsKICB9Cn07Cg=="},{"version":3,"sources":["ListExperts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListExperts.vue","sourceRoot":"src/views/experts","sourcesContent":["<template>\n  <section class=\"page-section\">\n    <b-container>\n      <HeaderPage title=\"Gestão de Especialistas\" />\n\n      <b-row class=\"mb-4\">\n        <b-col>\n          <router-link\n            :to=\"{ name: 'addExpert' }\"\n            tag=\"button\"\n            class=\"btn btn-outline-success mr-2 mt-2\"\n            ><i class=\"fas fa-plus-square\"></i> ADICIONAR\n            ESPECIALISTA</router-link\n          >\n          <router-link\n            :to=\"{ name: 'admin' }\"\n            tag=\"button\"\n            class=\"btn btn-outline-info mr-2 mt-2\"\n            ><i class=\"fas fa-bars\"></i> MENU PRINCIPAL</router-link\n          >\n        </b-col>\n      </b-row>\n\n      <b-row>\n        <b-col>\n          <table class=\"table table-striped\">\n            <thead class=\"thead-dark\">\n              <tr>\n                <th scope=\"col\">\n                  IMAGEM\n                  <i\n                    class=\"fas fa-arrow-up\"\n                    v-if=\"sortType === 1\"\n                    @click=\"sort()\"\n                  ></i>\n                  <i class=\"fas fa-arrow-down\" v-else @click=\"sort()\"></i>\n                </th>\n                <th scope=\"col\">\n                  NOME\n                  <i\n                    class=\"fas fa-arrow-up\"\n                    v-if=\"sortType === 1\"\n                    @click=\"sort()\"\n                  ></i>\n                  <i class=\"fas fa-arrow-down\" v-else @click=\"sort()\"></i>\n                </th>\n                <th scope=\"col\">ANIMAL</th>\n                <th scope=\"col\">TIPO</th>\n                <th scope=\"col\">VALOR</th>\n                <th scope=\"col\">CONTACTO</th>\n                <th scope=\"col\">AÇÕES</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"expert of experts\" :key=\"expert._id\">\n                <td class=\"pt-4\">\n                  <img\n                    alt=\"\"\n                    style=\"width: 80px\"\n                    src=\"https://img.favpng.com/25/7/23/computer-icons-user-profile-avatar-image-png-favpng-LFqDyLRhe3PBXM0sx2LufsGFU.jpg\"\n                  />\n                </td>\n                <td class=\"pt-4\">{{ expert.name }}</td>\n                <td class=\"pt-4\">{{ expert.animal }}</td>\n                <td class=\"pt-4\">{{ expert.group }}</td>\n                <td class=\"pt-4\">{{ expert.value }}</td>\n                <td class=\"pt-4\">{{ expert.contact }}</td>\n                <td>\n                  <router-link\n                    :to=\"{\n                      name: 'editExpert',\n                      params: { expertId: expert._id }\n                    }\"\n                    tag=\"button\"\n                    class=\"btn btn-outline-warning mr-2\"\n                    ><i class=\"fas fa-edit\"></i> EDITAR</router-link\n                  >\n                  <button\n                    @click=\"viewExpert(expert._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-success mr-2\"\n                  >\n                    <i class=\"fas fa-search\"></i> VER\n                  </button>\n                  <button\n                    @click=\"removeExpert(expert._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-danger mr-2 \"\n                  >\n                    <i class=\"fas fa-trash-alt\"></i> REMOVER\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </b-col>\n      </b-row>\n    </b-container>\n  </section>\n</template>\n\n<script>\nimport { FETCH_EXPERTS, REMOVE_EXPERT } from \"@/store/experts/expert.constants\";\nimport HeaderPage from \"@/components/HeaderPage.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ManageExperts\",\n  components: {\n    HeaderPage\n  },\n  data: function() {\n    return {\n      experts: [],\n      sortType: 1\n    };\n  },\n  computed: {\n    ...mapGetters(\"expert\", [\"getExperts\", \"getMessage\"])\n  },\n  methods: {\n    fetchExperts() {\n      this.$store.dispatch(`expert/${FETCH_EXPERTS}`).then(\n        () => {\n          this.experts = this.getExperts;\n        },\n        err => {\n          this.$alert(`${err.message}`, \"Erro\", \"error\");\n        }\n      );\n    },\n    sort() {\n      this.experts.sort(this.compareNames);\n      this.sortType *= -1;\n    },\n    compareNames(s1, s2) {\n      if (s1.name > s2.name) return 1 * this.sortType;\n      else if (s1.name < s2.name) return -1 * this.sortType;\n      else return 0;\n    },\n\n    viewExpert(id) {\n      const expert = this.experts.find(expert => expert._id === id);\n      this.$fire({\n        title: expert.name,\n        html: this.generateTemplate(expert)\n      });\n    },\n\n    generateTemplate(expert) {\n      return `\n        <p>\n          <img style=\"\" class=\"w-50\"  src=\"${expert.img}\" alt=\"\" srcset=\"\"> <br>\n          <b>Nome:</b> ${expert.name} <br>\n          <b>Animal:</b> ${expert.animal} <br>\n          <b>Grupo:</b> ${expert.group} <br>\n          <b>Descrição:</b> ${expert.description}<br>\n          <b>Anos de Especialista:</b> ${expert.years_experted} <br>\n          <b>Localização:</b> ${expert.location.city} / ${expert.location.country} <br>\n          <b>Valor por hora:</b> ${expert.value} € <br>\n          <b>Localização:</b> ${expert.contact}\n        </p>\n      `;\n    },\n\n    removeExpert(id) {\n      this.$confirm(\n        \"Se sim, clique em OK\",\n        \"Deseja mesmo remover o Especialista?\",\n        \"warning\",\n        { confirmButtonText: \"OK\", cancelButtonText: \"Cancelar\" }\n      ).then(\n        () => {\n          this.$store.dispatch(`expert/${REMOVE_EXPERT}`, id).then(() => {\n            this.$alert(this.getMessage, \"Especialista removido!\", \"success\");\n            this.fetchExperts();\n          });\n        },\n        () => {\n          this.$alert(\"Remoção cancelada!\", \"Informação\", \"info\");\n        }\n      );\n    }\n  },\n  created() {\n    this.fetchExperts();\n  }\n};\n</script>\n"]}]}