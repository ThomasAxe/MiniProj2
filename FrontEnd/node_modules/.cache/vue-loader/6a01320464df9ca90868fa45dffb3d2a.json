{"remainingRequest":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kanto/Desktop/MiniProj2/FrontEnd/src/views/sponsors/ListSponsors.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/src/views/sponsors/ListSponsors.vue","mtime":1701888925406},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1701363611251},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1701363612909},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1701363611251},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1701363612828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgRkVUQ0hfU1BPTlNPUlMsCiAgUkVNT1ZFX1NQT05TT1IKfSBmcm9tICJAL3N0b3JlL3Nwb25zb3JzL3Nwb25zb3IuY29uc3RhbnRzIjsKaW1wb3J0IEhlYWRlclBhZ2UgZnJvbSAiQC9jb21wb25lbnRzL0hlYWRlclBhZ2UudnVlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYW5hZ2VTcG9uc29ycyIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyUGFnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBzcG9uc29yczogW10sCiAgICAgIHNvcnRUeXBlOiAxCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoInNwb25zb3IiLCBbImdldFNwb25zb3JzIiwgImdldE1lc3NhZ2UiXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoU3BvbnNvcnMoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKGBzcG9uc29yLyR7RkVUQ0hfU1BPTlNPUlN9YCkudGhlbigKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLnNwb25zb3JzID0gdGhpcy5nZXRTcG9uc29yczsKICAgICAgICB9LAogICAgICAgIGVyciA9PiB7CiAgICAgICAgICB0aGlzLiRhbGVydChgJHtlcnIubWVzc2FnZX1gLCAiRXJybyIsICJlcnJvciIpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBzb3J0KCkgewogICAgICB0aGlzLnNwb25zb3JzLnNvcnQodGhpcy5jb21wYXJlTmFtZXMpOwogICAgICB0aGlzLnNvcnRUeXBlICo9IC0xOwogICAgfSwKICAgIGNvbXBhcmVOYW1lcyhzMSwgczIpIHsKICAgICAgaWYgKHMxLm5hbWUgPiBzMi5uYW1lKSByZXR1cm4gMSAqIHRoaXMuc29ydFR5cGU7CiAgICAgIGVsc2UgaWYgKHMxLm5hbWUgPCBzMi5uYW1lKSByZXR1cm4gLTEgKiB0aGlzLnNvcnRUeXBlOwogICAgICBlbHNlIHJldHVybiAwOwogICAgfSwKCiAgICB2aWV3U3BvbnNvcihpZCkgewogICAgICBjb25zdCBzcG9uc29yID0gdGhpcy5zcG9uc29ycy5maW5kKHNwb25zb3IgPT4gc3BvbnNvci5faWQgPT09IGlkKTsKICAgICAgdGhpcy4kZmlyZSh7CiAgICAgICAgdGl0bGU6IHNwb25zb3IubmFtZSwKICAgICAgICBodG1sOiB0aGlzLmdlbmVyYXRlVGVtcGxhdGUoc3BvbnNvcikKICAgICAgfSk7CiAgICB9LAoKICAgIGdlbmVyYXRlVGVtcGxhdGUoc3BvbnNvcikgewogICAgICByZXR1cm4gYAogICAgICAgIDxwPgogICAgICAgICAgPGltZyBzdHlsZT0iIiBjbGFzcz0idy01MCIgIHNyYz0iJHtzcG9uc29yLmltZ30iIGFsdD0iIiBzcmNzZXQ9IiI+IDxicj4KICAgICAgICAgIDxiPk5vbWU6PC9iPiAke3Nwb25zb3IubmFtZX0gPGJyPgogICAgICAgICAgPGI+QW5pbWFsOjwvYj4gJHtzcG9uc29yLmFuaW1hbH0gPGJyPgogICAgICAgICAgPGI+R3J1cG86PC9iPiAke3Nwb25zb3IuZ3JvdXB9IDxicj4KICAgICAgICAgIDxiPkRlc2NyacOnw6NvOjwvYj4gJHtzcG9uc29yLmRlc2NyaXB0aW9ufTxicj4KICAgICAgICAgIDxiPkFub3MgZGUgUGF0cm9jaW5pbzo8L2I+ICR7c3BvbnNvci55ZWFyc19zcG9uc29yZWR9IDxicj4KICAgICAgICAgIDxiPkxvY2FsaXphw6fDo286PC9iPiAke3Nwb25zb3IubG9jYXRpb24uY2l0eX0gLyAke3Nwb25zb3IubG9jYXRpb24uY291bnRyeX0gPGJyPgogICAgICAgICAgPGI+VmFsb3IgcG9yIGFubzo8L2I+ICR7c3BvbnNvci52YWx1ZX0g4oKsIDxicj4KICAgICAgICAgIDxiPkxvY2FsaXphw6fDo286PC9iPiAke3Nwb25zb3IuY29udGFjdH0KICAgICAgICA8L3A+CiAgICAgIGA7CiAgICB9LAoKICAgIHJlbW92ZVNwb25zb3IoaWQpIHsKICAgICAgdGhpcy4kY29uZmlybSgKICAgICAgICAiU2Ugc2ltLCBjbGlxdWUgZW0gT0siLAogICAgICAgICJEZXNlamEgbWVzbW8gcmVtb3ZlciBvIHBhdHJvY2luYWRvcj8iLAogICAgICAgICJ3YXJuaW5nIiwKICAgICAgICB7IGNvbmZpcm1CdXR0b25UZXh0OiAiT0siLCBjYW5jZWxCdXR0b25UZXh0OiAiQ2FuY2VsYXIiIH0KICAgICAgKS50aGVuKAogICAgICAgICgpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKGBzcG9uc29yLyR7UkVNT1ZFX1NQT05TT1J9YCwgaWQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLiRhbGVydCh0aGlzLmdldE1lc3NhZ2UsICJQYXRyb2NpbmFkb3IgcmVtb3ZpZG8hIiwgInN1Y2Nlc3MiKTsKICAgICAgICAgICAgdGhpcy5mZXRjaFNwb25zb3JzKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgICgpID0+IHsKICAgICAgICAgIHRoaXMuJGFsZXJ0KCJSZW1vw6fDo28gY2FuY2VsYWRhISIsICJJbmZvcm1hw6fDo28iLCAiaW5mbyIpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoU3BvbnNvcnMoKTsKICB9Cn07Cg=="},{"version":3,"sources":["ListSponsors.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListSponsors.vue","sourceRoot":"src/views/sponsors","sourcesContent":["<template>\n  <section class=\"page-section\">\n    <b-container>\n      <HeaderPage title=\"Gestão de Patrocinadores\" />\n\n      <!--MENU TOPO-->\n      <b-row class=\"mb-4\">\n        <b-col>\n          <router-link\n            :to=\"{ name: 'addSponsor' }\"\n            tag=\"button\"\n            class=\"btn btn-outline-success mr-2 mt-2\"\n            ><i class=\"fas fa-plus-square\"></i> ADICIONAR\n            PATROCINADOR</router-link\n          >\n          <router-link\n            :to=\"{ name: 'admin' }\"\n            tag=\"button\"\n            class=\"btn btn-outline-info mr-2 mt-2\"\n            ><i class=\"fas fa-bars\"></i> MENU PRINCIPAL</router-link\n          >\n        </b-col>\n      </b-row>\n\n      <!-- TABELA -->\n      <b-row>\n        <b-col>\n          <table class=\"table table-striped\">\n            <thead class=\"thead-dark\">\n              <tr>\n                <th scope=\"col\">\n                  IMAGEM\n                  <i\n                    class=\"fas fa-arrow-up\"\n                    v-if=\"sortType === 1\"\n                    @click=\"sort()\"\n                  ></i>\n                  <i class=\"fas fa-arrow-down\" v-else @click=\"sort()\"></i>\n                </th>\n                <th scope=\"col\">\n                  NOME\n                  <i\n                    class=\"fas fa-arrow-up\"\n                    v-if=\"sortType === 1\"\n                    @click=\"sort()\"\n                  ></i>\n                  <i class=\"fas fa-arrow-down\" v-else @click=\"sort()\"></i>\n                </th>\n                <th scope=\"col\">ANIMAL</th>\n                <th scope=\"col\">TIPO</th>\n                <th scope=\"col\">VALOR</th>\n                <th scope=\"col\">CONTACTO</th>\n                <th scope=\"col\">AÇÕES</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"sponsor of sponsors\" :key=\"sponsor._id\">\n                <td class=\"pt-4\">\n                  <img\n                    alt=\"\"\n                    style=\"width: 80px\"\n                    src=\"https://png.pngtree.com/png-vector/20220910/ourmid/pngtree-sponsor-sign-word-lean-vector-png-image_19774682.png\"\n                  />\n                </td>\n                <td class=\"pt-4\">{{ sponsor.name }}</td>\n                <td class=\"pt-4\">{{ sponsor.animal }}</td>\n                <td class=\"pt-4\">{{ sponsor.group }}</td>\n                <td class=\"pt-4\">{{ sponsor.value }}</td>\n                <td class=\"pt-4\">{{ sponsor.contact }}</td>\n                <td>\n                  <router-link\n                    :to=\"{\n                      name: 'editSponsor',\n                      params: { sponsorId: sponsor._id }\n                    }\"\n                    tag=\"button\"\n                    class=\"btn btn-outline-warning mr-2\"\n                    ><i class=\"fas fa-edit\"></i> EDITAR</router-link\n                  >\n                  <button\n                    @click=\"viewSponsor(sponsor._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-success mr-2\"\n                  >\n                    <i class=\"fas fa-search\"></i> VER\n                  </button>\n                  <button\n                    @click=\"removeSponsor(sponsor._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-danger mr-2 \"\n                  >\n                    <i class=\"fas fa-trash-alt\"></i> REMOVER\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </b-col>\n      </b-row>\n    </b-container>\n  </section>\n</template>\n\n<script>\nimport {\n  FETCH_SPONSORS,\n  REMOVE_SPONSOR\n} from \"@/store/sponsors/sponsor.constants\";\nimport HeaderPage from \"@/components/HeaderPage.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ManageSponsors\",\n  components: {\n    HeaderPage\n  },\n  data: function() {\n    return {\n      sponsors: [],\n      sortType: 1\n    };\n  },\n  computed: {\n    ...mapGetters(\"sponsor\", [\"getSponsors\", \"getMessage\"])\n  },\n  methods: {\n    fetchSponsors() {\n      this.$store.dispatch(`sponsor/${FETCH_SPONSORS}`).then(\n        () => {\n          this.sponsors = this.getSponsors;\n        },\n        err => {\n          this.$alert(`${err.message}`, \"Erro\", \"error\");\n        }\n      );\n    },\n    sort() {\n      this.sponsors.sort(this.compareNames);\n      this.sortType *= -1;\n    },\n    compareNames(s1, s2) {\n      if (s1.name > s2.name) return 1 * this.sortType;\n      else if (s1.name < s2.name) return -1 * this.sortType;\n      else return 0;\n    },\n\n    viewSponsor(id) {\n      const sponsor = this.sponsors.find(sponsor => sponsor._id === id);\n      this.$fire({\n        title: sponsor.name,\n        html: this.generateTemplate(sponsor)\n      });\n    },\n\n    generateTemplate(sponsor) {\n      return `\n        <p>\n          <img style=\"\" class=\"w-50\"  src=\"${sponsor.img}\" alt=\"\" srcset=\"\"> <br>\n          <b>Nome:</b> ${sponsor.name} <br>\n          <b>Animal:</b> ${sponsor.animal} <br>\n          <b>Grupo:</b> ${sponsor.group} <br>\n          <b>Descrição:</b> ${sponsor.description}<br>\n          <b>Anos de Patrocinio:</b> ${sponsor.years_sponsored} <br>\n          <b>Localização:</b> ${sponsor.location.city} / ${sponsor.location.country} <br>\n          <b>Valor por ano:</b> ${sponsor.value} € <br>\n          <b>Localização:</b> ${sponsor.contact}\n        </p>\n      `;\n    },\n\n    removeSponsor(id) {\n      this.$confirm(\n        \"Se sim, clique em OK\",\n        \"Deseja mesmo remover o patrocinador?\",\n        \"warning\",\n        { confirmButtonText: \"OK\", cancelButtonText: \"Cancelar\" }\n      ).then(\n        () => {\n          this.$store.dispatch(`sponsor/${REMOVE_SPONSOR}`, id).then(() => {\n            this.$alert(this.getMessage, \"Patrocinador removido!\", \"success\");\n            this.fetchSponsors();\n          });\n        },\n        () => {\n          this.$alert(\"Remoção cancelada!\", \"Informação\", \"info\");\n        }\n      );\n    }\n  },\n  created() {\n    this.fetchSponsors();\n  }\n};\n</script>\n"]}]}