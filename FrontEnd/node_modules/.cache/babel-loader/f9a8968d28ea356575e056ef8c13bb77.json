{"remainingRequest":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/babel-loader/lib/index.js!/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kanto/Desktop/MiniProj2/FrontEnd/src/components/Animal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/src/components/Animal.vue","mtime":1701942357107},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1701363611251},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1701363612909},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1701363611251},{"path":"/Users/kanto/Desktop/MiniProj2/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1701363612828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9rYW50by9EZXNrdG9wL01pbmlQcm9qMi9Gcm9udEVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEVESVRfQU5JTUFMIH0gZnJvbSAiQC9zdG9yZS9hbmltYWxzL2FuaW1hbC5jb25zdGFudHMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQW5pbWFsIiwKICBwcm9wczogWyJhbmltYWwiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3I6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycygiYXV0aCIsIFsiZ2V0UHJvZmlsZSJdKSwgewogICAgZXZhbHVhdGU6IGZ1bmN0aW9uIGV2YWx1YXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmFuaW1hbC5ldmFsdWF0aW9uLmluY2x1ZGVzKHRoaXMuZ2V0UHJvZmlsZSgpLl9pZCkpIHsKICAgICAgICB0aGlzLmFuaW1hbC5ldmFsdWF0aW9uLnB1c2godGhpcy5nZXRQcm9maWxlKCkuX2lkKTsKICAgICAgICB0aGlzLmNvbG9yID0gInJlZCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbmltYWwuZXZhbHVhdGlvbiA9IHRoaXMuYW5pbWFsLmV2YWx1YXRpb24uZmlsdGVyKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICByZXR1cm4gdXNlciAhPT0gX3RoaXMuZ2V0UHJvZmlsZSgpLl9pZDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNvbG9yID0gImJsYWNrIjsKICAgICAgfQoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFuaW1hbC8iLmNvbmNhdChFRElUX0FOSU1BTCksIHRoaXMuYW5pbWFsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kYWxlcnQoIk9icmlnYWRvIHBvciBnb3N0YXJlcyBkbyAiLmNvbmNhdChfdGhpcy5hbmltYWwubmFtZSwgIiEiKSwgIkdvc3RvIiwgInN1Y2Nlc3MiKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRhbGVydCgiIi5jb25jYXQoZXJyLm1lc3NhZ2UpLCAiRXJybyIsICJlcnJvciIpOwogICAgICB9KTsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKCF0aGlzLmFuaW1hbC5ldmFsdWF0aW9uLmluY2x1ZGVzKHRoaXMuZ2V0UHJvZmlsZSgpLl9pZCkpIHsKICAgICAgdGhpcy5jb2xvciA9ICJibGFjayI7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNvbG9yID0gInJlZCI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Animal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,WAAA,QAAA,kCAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA,CAAA,QAAA,CAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GAPA;AAQA,EAAA,OAAA,oBACA,UAAA,CAAA,MAAA,EAAA,CAAA,YAAA,CAAA,CADA;AAEA,IAAA,QAFA,sBAEA;AAAA;;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,UAAA,CAAA,QAAA,CAAA,KAAA,UAAA,GAAA,GAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,KAAA,UAAA,GAAA,GAAA;AACA,aAAA,KAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,MAAA,CAAA,UAAA,GAAA,KAAA,MAAA,CAAA,UAAA,CAAA,MAAA,CACA,UAAA,IAAA;AAAA,iBAAA,IAAA,KAAA,KAAA,CAAA,UAAA,GAAA,GAAA;AAAA,SADA,CAAA;AAGA,aAAA,KAAA,GAAA,OAAA;AACA;;AACA,WAAA,MAAA,CAAA,QAAA,kBAAA,WAAA,GAAA,KAAA,MAAA,EAAA,IAAA,CACA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,oCACA,KAAA,CAAA,MAAA,CAAA,IADA,QAEA,OAFA,EAGA,SAHA;AAKA,OAPA,EAQA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,WAAA,GAAA,CAAA,OAAA,GAAA,MAAA,EAAA,OAAA;AACA,OAVA;AAYA;AAxBA,IARA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,QAAA,CAAA,KAAA,MAAA,CAAA,UAAA,CAAA,QAAA,CAAA,KAAA,UAAA,GAAA,GAAA,CAAA,EAAA;AACA,WAAA,KAAA,GAAA,OAAA;AACA,KAFA,MAEA;AACA,WAAA,KAAA,GAAA,KAAA;AACA;AACA;AAxCA,CAAA","sourcesContent":["<template>\n  <b-col cols=\"4\">\n    <b-card\n      :title=\"animal.name\"\n      :img-src=\"animal.links[0].url\"\n      img-alt=\"Image\"\n      img-top\n      tag=\"article\"\n      style=\"max-width: 20rem;\"\n      class=\"mb-5\"\n    >\n      <b-card-text>\n        <kbd>{{ animal.group }}</kbd\n        >&nbsp;\n        <kbd style=\"background-color: red\">n√≠vel {{ animal.level }}</kbd>\n      </b-card-text>\n      <b-card-text>{{ animal.description }}</b-card-text>\n      <b-card-text align=\"left\">\n        <i class=\"fas fa-star fa-lg\" :style=\"{ color }\" @click=\"evaluate()\"></i>\n        {{ animal.evaluation.length }}\n        <i class=\"fas fa-comment fa-lg ml-2\"></i>\n        {{ animal.comments.length }}\n      </b-card-text>\n\n      <router-link\n        :to=\"{ name: 'animal', params: { animalId: animal._id } }\"\n        tag=\"b-button\"\n        variant=\"outline-success\"\n        align=\"center\"\n        class=\"mr-2\"\n      >\n        <i class=\"fas fa-search\"></i> ver animal\n      </router-link>\n      <b-button\n        variant=\"info\"\n        :href=\"\n          'https://www.facebook.com/sharer/sharer.php?u=' + animal.links[0].url\n        \"\n        target=\"_blank\"\n      >\n        <i class=\"fab fa-facebook\"></i> Partilhar\n      </b-button>\n    </b-card>\n  </b-col>\n</template>\n\n<script>\nimport { EDIT_ANIMAL } from \"@/store/animals/animal.constants\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"Animal\",\n  props: [\"animal\"],\n  data: function() {\n    return {\n      color: \"\"\n    };\n  },\n  methods: {\n    ...mapGetters(\"auth\", [\"getProfile\"]),\n    evaluate() {\n      if (!this.animal.evaluation.includes(this.getProfile()._id)) {\n        this.animal.evaluation.push(this.getProfile()._id);\n        this.color = \"red\";\n      } else {\n        this.animal.evaluation = this.animal.evaluation.filter(\n          user => user !== this.getProfile()._id\n        );\n        this.color = \"black\";\n      }\n      this.$store.dispatch(`animal/${EDIT_ANIMAL}`, this.animal).then(\n        () => {\n          this.$alert(\n            `Obrigado por gostares do ${this.animal.name}!`,\n            \"Gosto\",\n            \"success\"\n          );\n        },\n        err => {\n          this.$alert(`${err.message}`, \"Erro\", \"error\");\n        }\n      );\n    }\n  },\n  created() {\n    if (!this.animal.evaluation.includes(this.getProfile()._id)) {\n      this.color = \"black\";\n    } else {\n      this.color = \"red\";\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}